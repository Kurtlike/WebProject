(this.webpackJsonpmathlab6react=this.webpackJsonpmathlab6react||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),l=n(8),s=n.n(l),o=(n(14),n(9)),i=n(3),r=n(4),u=n(2),h=n(6),x=n(5),b=n(0),d=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"inputs",children:Object(b.jsxs)("label",{children:[this.props.labelName,Object(b.jsx)("select",{id:"functionSelect",className:"inputForm selects",defaultValue:this.props.optionals[0],onChange:this.props.handleChange,children:this.props.optionals.map((function(e,t){return Object(b.jsx)("option",{value:t,children:e},t)}))})]})})}}]),n}(c.a.Component),f=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"inputs",children:Object(b.jsxs)("label",{className:"inputLabel",children:[this.props.labelName,Object(b.jsx)("input",{className:"inputForm",type:this.props.type,id:this.props.id,onChange:this.props.handleChange})]})})}}]),n}(c.a.Component),p=[],v=[],y=[],g=[];function j(e){fetch("http://localhost:8082/lab6/getAnswer",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({selectedFunction:e.chosenFunction,leftBorder:e.left,rightBorder:e.right,ynull:e.yInput,step:e.step})}).then((function(e){return e.json()})).then((function(e){!function(e){var t={name:e[0].methodName,xS:e[0].exactSolution,nS:e[0].numberSolution},n={name:e[1].methodName,xS:e[1].exactSolution,nS:e[1].numberSolution};p=[],v=[],y=[],g=[];for(var a=0;a<t.xS.length;a++){var c={x:t.xS[a].x,y:t.xS[a].y};p.push(c)}for(var l=0;l<t.nS.length;l++){var s={x:t.nS[l].x,y:t.nS[l].y};y.push(s)}for(var o=0;o<n.xS.length;o++){var i={x:n.xS[o].x,y:n.xS[o].y};v.push(i)}for(var r=0;r<n.nS.length;r++){var u={x:n.nS[r].x,y:n.nS[r].y};g.push(u)}var h=document.getElementById("answer");h.innerHTML="",h.style.backgroundColor="rgba(255,255,255,0.5)";var x=document.createElement("label"),b=document.createElement("label"),d=document.createElement("label"),f=document.createElement("label");x.innerText=t.name+" \u0442\u043e\u0447\u043d\u044b\u0439",x.style.backgroundColor="rgba(255,112,0,1)",x.style.whiteSpace="nowrap",b.innerText=t.name+" \u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0439",b.style.backgroundColor="rgba(255,0,0,1)",b.style.whiteSpace="nowrap",d.innerText=n.name+" \u0442\u043e\u0447\u043d\u044b\u0439",d.style.backgroundColor="rgba(100,100,255,1)",d.style.whiteSpace="nowrap",f.innerText=n.name+" \u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0439",f.style.backgroundColor="rgba(0,0,255,1)",f.style.whiteSpace="nowrap",h.append(x,b,d,f)}(e.answers)}))}var m=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(u.a)(a)),a.sendRequest=a.sendRequest.bind(Object(u.a)(a)),a.selectChange=a.selectChange.bind(Object(u.a)(a)),a.state={chosenFunction:0,left:0,right:0,yInput:0,step:0,optionals:[1]},a}return Object(r.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.id,e.target.value))}},{key:"selectChange",value:function(e){this.setState({chosenFunction:e.target.value})}},{key:"componentDidMount",value:function(){var e,t=this;e=function(e){for(var n=[],a=0;a<Object.keys(e).length;a++)n.push(e[a]);t.setState({optionals:n})},fetch("http://localhost:8082/lab6/getOnload",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(t.functions)}))}},{key:"sendRequest",value:function(){j(this.state)}},{key:"render",value:function(){return Object(b.jsxs)("div",{id:"dataForm",children:[Object(b.jsx)(d,{optionals:this.state.optionals,labelName:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e",inputName:"chosenFunction",handleChange:this.selectChange}),Object(b.jsx)(f,{id:"left",labelName:"\u041b\u0435\u0432\u0430\u044f \u0433\u0440\u0430\u043d\u0438\u0446\u0430",type:"number",handleChange:this.handleChange}),Object(b.jsx)(f,{id:"right",labelName:"\u041f\u0440\u0430\u0432\u0430\u044f \u0433\u0440\u0430\u043d\u0438\u0446\u0430",type:"number",handleChange:this.handleChange}),Object(b.jsx)(f,{id:"yInput",labelName:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 Y0",type:"number",handleChange:this.handleChange}),Object(b.jsx)(f,{id:"step",labelName:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0430\u0433",type:"number",handleChange:this.handleChange}),Object(b.jsx)("button",{onClick:this.sendRequest,children:"\u0420\u0435\u0448\u0438\u0442\u044c"}),Object(b.jsx)("div",{id:"answer"})]})}}]),n}(c.a.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),l(e),s(e)}))},O=function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onMouseDown=function(e){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,c=a.state,l=a.canvas;a.canvas.current.onmouseup=function(e){l.current.onmousemove={}},a.canvas.current.onmousemove=function(e){var l=e.offsetX,s=e.offsetY,o=c.xNull+l-t,i=c.yNull-(n-s);a.setState({xNull:o,yNull:i}),a.updateCanvas()}},a.onWheel=function(e){var t=a.state.scale+-.02*e.deltaY<4?4:a.state.scale+-.02*e.deltaY;a.setState({scale:t},(function(){console.log(a.state.scale),a.updateCanvas()}))},a.canvas=c.a.createRef(),a.chart=c.a.createRef(),a.onMouseDown=a.onMouseDown.bind(Object(u.a)(a)),a.onWheel=a.onWheel.bind(Object(u.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.canvas.current.width=this.chart.current.clientWidth,this.canvas.current.height=this.chart.current.clientHeight,this.setState({ctx:this.canvas.current.getContext("2d")},(function(){e.setState({xMax:e.canvas.current.width,yMax:e.canvas.current.height,xMin:0,yMin:0,xNull:e.canvas.current.width/2,yNull:e.canvas.current.height/2,scale:100},(function(){e.updateCanvas()}))}))}},{key:"updateCanvas",value:function(){this.state.ctx.clearRect(0,0,this.canvas.current.width,this.canvas.current.height),this.setState(function(e){S(e.ctx),e.ctx.beginPath(),e.ctx.moveTo(e.xNull,e.yMax),e.ctx.lineTo(e.xNull,e.yMin),e.ctx.closePath(),e.ctx.stroke(),e.ctx.fillText("0",e.xNull-20,e.yNull+20,20);var t=(e.xNull-e.xMin)/e.scale,n=(e.xMax-e.xNull)/e.scale;function a(t){e.ctx.beginPath(),e.ctx.moveTo(e.xNull-e.scale*t,e.yMin),e.ctx.lineTo(e.xNull-e.scale*t,e.yMax),e.ctx.closePath(),e.ctx.stroke(),S(e.ctx),e.ctx.fillText("-"+t,e.xNull-e.scale*t-20,e.yNull+20,20),C(e.ctx)}function c(t){e.ctx.beginPath(),e.ctx.moveTo(e.xNull+e.scale*t,e.yMin),e.ctx.lineTo(e.xNull+e.scale*t,e.yMax),e.ctx.closePath(),e.ctx.stroke(),S(e.ctx),e.ctx.fillText(t,e.xNull+e.scale*t-20,e.yNull+20,20),C(e.ctx)}C(e.ctx);for(var l=1;l<t;l++)e.scale>70?a(l):e.scale>40?l%2===0&&a(l):l%10===0&&a(l);for(var s=1;s<n;s++)e.scale>70?c(s):e.scale>40?s%2===0&&c(s):s%10===0&&c(s);return e}(this.state)),this.setState(function(e){S(e.ctx),e.ctx.beginPath(),e.ctx.moveTo(e.xMin,e.yNull),e.ctx.lineTo(e.xMax,e.yNull),e.ctx.closePath(),e.ctx.stroke();var t=(e.yMax-e.yNull)/e.scale,n=(e.yNull-e.yMin)/e.scale;function a(t){e.ctx.beginPath(),e.ctx.moveTo(e.xMin,e.yNull+e.scale*t),e.ctx.lineTo(e.xMax,e.yNull+e.scale*t),e.ctx.closePath(),e.ctx.stroke(),S(e.ctx),e.ctx.fillText("-"+t,e.xNull-20,e.yNull+e.scale*t,20),C(e.ctx)}function c(t){e.ctx.beginPath(),e.ctx.moveTo(e.xMin,e.yNull-e.scale*t),e.ctx.lineTo(e.xMax,e.yNull-e.scale*t),e.ctx.closePath(),e.ctx.stroke(),S(e.ctx),e.ctx.fillText(t,e.xNull-20,e.yNull-e.scale*t,20),C(e.ctx)}C(e.ctx);for(var l=1;l<t;l++)e.scale>70?a(l):e.scale>40?l%2===0&&a(l):l%10===0&&a(l);for(var s=1;s<n;s++)e.scale>70?c(s):e.scale>40?s%2===0&&c(s):s%10===0&&c(s);return e}(this.state)),M(this.state,p,"rgba(255,112,0,1)"),M(this.state,y,"rgba(255,0,0,1)"),M(this.state,v,"rgba(100,100,255,1)"),M(this.state,g,"rgba(0,0,255,1)")}},{key:"render",value:function(){return Object(b.jsx)("div",{id:"chart",ref:this.chart,children:Object(b.jsx)("canvas",{id:"canvas",onMouseDown:this.onMouseDown,onWheel:this.onWheel,ref:this.canvas})})}}]),n}(c.a.Component);function S(e){e.strokeStyle="rgba(255,255,255,1)",e.fillStyle="rgba(255, 255, 255, 1)",e.setLineDash([1,1])}function C(e){e.setLineDash([4,16]),e.strokeStyle="rgba(255,255,255,.25)"}function M(e,t,n){if(t.length>0){e.ctx.setLineDash([1,0]),e.ctx.strokeStyle=n,e.ctx.lineWidth=3,e.ctx.moveTo(t[0].x,t[0].y),e.ctx.beginPath();for(var a=0;a<t.length;a++){var c=k(e,e.xNull+e.scale*t[a].x,e.yNull-e.scale*t[a].y);e.ctx.lineTo(c.x,c.y)}e.ctx.stroke(),e.ctx.strokeStyle="rgba(255,255,255,.25)",e.ctx.setLineDash([4,16]),e.ctx.lineWidth=1}}function k(e,t,n){var a=t,c=n;return t>e.xMax&&(a=e.xMax),t<e.xMin&&(a=e.xMin),n>e.yMax&&(c=e.yMax),n<e.yMin&&(c=e.yMin),{x:a,y:c}}s.a.render(Object(b.jsxs)(c.a.StrictMode,{children:[Object(b.jsx)(m,{}),Object(b.jsx)(O,{})]}),document.getElementById("root")),N()}},[[16,1,2]]]);
//# sourceMappingURL=main.471939e4.chunk.js.map